<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <title>Login</title>
    <style>
        body {
            background-image: url("photos/pic38.jpg");
            background-size: cover;
            /* Ensures the image covers the entire viewport */
            background-position: center;
            /* Centers the image */
            background-repeat: no-repeat;
            /* Prevents image repeatition */
            background-attachment: fixed;
            /* Keeps the image fixed while scrolling */
        }

        h1 {
            text-align: center;
            margin-top: 150px;
            font-size: 38px;
            color: #250902;
        }

        .form {
            margin-left: 375px;
            font-size: 20px;
            color: #132a13;
        }

        .form input {
            margin-bottom: 8px;
        }

        .mail,
        .pword {
            border-radius: 8px;
            cursor: pointer;
        }

        .mail:hover,
        .pword:hover {
            background-color: #adc178;
        }

        button {
            /* display: flex;
            justify-content: end;
            align-items: center; */
            display: block;
            margin: 20px auto;
            font-size: 20px;
            border-radius: 8px;
            cursor: pointer;
            color: #132a13;
        }

        button:hover {
            background-color: #adc178;
        }
    </style>

</head>

<body>
    <h1>LOGIN</h1>
    <form id="login" action="#" method="get">
        <div class="form">
            <table>
                <tr>
                    <td><label for="mail">Email:</td></label>
                    <td><input type="email" class="mail" name="user" id="mail" placeholder="Enter your email" required>
                    </td>
                </tr>
                <tr>
                    <td><label for="pword">Password:</td></label>
                    <td><input type="password" class="pword" name="user" id="pword" placeholder="Enter your password"
                            required></td>
                </tr>
            </table>
        </div>
    </form>

    <div><button onclick="cpassword()">Submit</button></div>
    <script>
        // function cpassword(){
        //     let pCheck = document.getElementById("pword").value;
        //     let cCheck = document.getElementById("cpword").value;
        //     let checkPara = document.getElementById("checkP");
        //     let formCheck = document.getElementById("login");
        //     if(pCheck == cCheck){
        //         document.getElementById("checkP").innerHTML= "Password created successfully";
        //         checkPara.style.color = "green";
        //         formCheck.submit()
        //     }
        //     else{
        // document.getElementById("checkP").innerHTML= "Password didnot match";
        // checkPara.style.color = "red";
        //     }
        // }
        function cpassword() {
            let email, password;
            email = document.getElementById("mail").value;
            password = document.getElementById("pword").value;

            let user_record = new Array();
            user_record = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : []
            if (user_record.some((v) => {
                return v.email == email && password == password
            })) {
                alert("login successful")
                let current_user=user_record.filter((v)=>{
                    return v.email==email && v.password==password
                })[0]
                localStorage.setItem("name",current_user.name);
                localStorage.setItem("email",current_user.email);
                window.location.href="profile.html";
            } else {
                alert("login failed")
            }
        }
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
        <link rel="stylesheet" href="E:\bahvya\tbook.css">

    <title>TICKET BOOKING</title>
</head>
<body>
    <!-- <input type="button" value="Edit" onClick="compute(edit(document.getElementById('new').value))" /> -->
    <!-- function edit()
{
     x = document.getElementById('new').value;
     //use this X.
} -->
    <div class="maindiv" class="mt-4">
    <div  class="mt-4"id="header">
        
           <div class="mt-4" id="top1" > <button class="aseat" id="cseat" onclick="showInputFields()"> Available Seats</button></div>
           <div class="mt-4" id="top1"> <button class="aseat" id="bseat" onclick="bookTicket()"> Booked  Seats</button></div>
           <div class="mt-4" id="top1"> <button class="aseat" id="cseat" onclick="cancelledTicket()"> cancelled  Seats</button></div>
    </div>
    <div class="inner"  id="innerDiv">
        <label for="name">Enter your name:</label>
        <input type="text" id="name" placeholder="Enter Your Name" required><br><br>
        
        <label for="phone">Enter phone number:</label>
        <input type="number" id="phone" placeholder="Enter Your Phone Number" required><br><br>
    </div>
   
    <div class="mt-4" id="row1">
        
        <button onclick=""class="srow1" id="rs1">Seat01</button>
        <button class="srow1" id="rs2">Seat02</button>
        <button class="srow1" id="rs3">Seat03</button>
        <button class="srow1" id="rs4">Seat04</button>
        <button class="srow1" id="rs5">Seat05</button>
        <button class="srow1" id="rs6">Seat06</button>
</div>
<div class="mt-4" id="row2">
    <button class="srow2" id="rs7">Seat07</button>
    <button class="srow2" id="rs8">Seat08</button>
    <button class="srow2" id="rs9">Seat09</button>
    <button class="srow2" id="rs10">Seat10</button>
    <button class="srow2" id="rs11">Seat11</button>
    <button class="srow2" id="rs12">Seat12</button>
</div>
<div class="mt-4" id="row3">
    <button class="srow3" id="rs13">Seat13</button>
    <button class="srow3" id="rs14">Seat14</button>
    <button class="srow3" id="rs15">Seat15</button>
    <button class="srow3" id="rs16">Seat16</button>
    <button class="srow3" id="rs17">Seat17</button>
    <button class="srow3" id="rs18">Seat18</button>
</div>
<div class="mt-4" id="row4">
    <button class="srow4" id="rs19">Seat19</button>
    <button class="srow4" id="rs20">Seat20</button>
    <button class="srow4" id="rs21">Seat21</button>
    <button class="srow4" id="rs22">Seat22</button>
    <button class="srow4" id="rs23">Seat23</button>
    <button class="srow4" id="rs24">Seat24</button>
</div>
</div>
<script>
   function addNumPhone(){
    let phoneNum=document.getElementById('name').value;
    let nameText=document.getElementById('phone').value;
   }
  let arrName = []; 
let arrPhoneNum = []; 

function showInputFields() {
    const innerDiv = document.getElementById("innerDiv");

    
    innerDiv.innerHTML = "";

    
    const phoneInput = document.createElement("input");
    phoneInput.type = "number";
    phoneInput.id = "phone";
    phoneInput.placeholder = "Enter Your Phone Number";
    phoneInput.required = true;

   
    const nameInput = document.createElement("input");
    nameInput.type = "text";
    nameInput.id = "name";
    nameInput.placeholder = "Enter Your Name";
    nameInput.required = true;

    
    innerDiv.appendChild(phoneInput);
    innerDiv.appendChild(document.createElement("br"));
    innerDiv.appendChild(nameInput);
    innerDiv.appendChild(document.createElement("br")); 

    // Create the "Book" button
    const bookButton = document.createElement("button");
    bookButton.id = "bookButton";
    bookButton.className = "btn btn-success";
    bookButton.innerText = "Book";
    bookButton.onclick = bookTicket;

    // Create the "Cancel" button
    const cancelButton = document.createElement("button");
    cancelButton.id = "cancelButton";
    cancelButton.className = "btn btn-danger";
    cancelButton.innerText = "Cancel";
    cancelButton.onclick = cancelledTicket; // Clear input fields

    // Append buttons to the container
    innerDiv.appendChild(bookButton);
    innerDiv.appendChild(cancelButton);
}

function bookTicket() {
    const phone = document.getElementById("phone").value;
    const name = document.getElementById("name").value;

    if (!phone || !name) {
        alert("Please fill out both fields!");
        return;
    }

    // Add user input to arrays
    arrName.push(name);
    arrPhoneNum.push(phone);

    // Update seat buttons dynamically
    for (let i = 0; i < arrName.length; i++) {
        const seatButton = document.getElementById(`rs${i + 1}`);
        if (seatButton) {
            seatButton.innerText = `${arrName[i]} - ${arrPhoneNum[i]}`;
            seatButton.className = "btn btn-success"; // Indicate booking visually
        }
    }

    alert(`Ticket booked successfully!\nName: ${name}\nPhone: ${phone}`);

    // Clear input fields for new data entry
    document.getElementById("phone").value = "";
    document.getElementById("name").value = "";
}
function cancelledTicket() {
    const phone = document.getElementById("phone").value;
    const name = document.getElementById("name").value;

    if (!phone || !name) {
        alert("Please fill out both fields!");
        return;
    }

    // Add user input to arrays
    arrName.pop(name);
    arrPhoneNum.pop(phone);

    // Update seat buttons dynamically
    for (let i = 0; i < arrName.length; i++) {
        const seatButton = document.getElementById(`rs${i + 1}`);
        if (seatButton) {
            seatButton.innerText = `${arrName[i]} - ${arrPhoneNum[i]}`;
            seatButton.className = "btn btn-danger"; // Indicate booking visually
        }
    }

    alert(`Ticket cancelled successfully!\nName: ${name}\nPhone: ${phone}`);

    // Clear input fields for new data entry
    document.getElementById("phone").value = "";
    document.getElementById("name").value = "";
}

function findTickets() {
    showInputFields(); // Reuse the dynamic input creation logic
}


</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
        <link rel="stylesheet" href="E:\bahvya\tbook.css">

    <title>TICKET BOOKING</title>
                         
</head>
<body>
    
    <h1>BUS TICKET BOOKING</h1>
 <div class="maindiv" class="mt-4">

   
    <div class="mt-4" id="row1">
       
        <button class="btn btn-danger" onclick="selectSeat('seat01',this)" class="srow" id="rs1">Seat01</button>
        <button class="btn btn-danger" onclick="selectSeat('seat02',this)" class="srow" id="rs2">Seat02</button>
        <button class="btn btn-danger" onclick="selectSeat('seat03',this)" class="srow" id="rs3">Seat03</button>
        <button class="btn btn-danger" onclick="selectSeat('seat04',this)" class="srow" id="rs4">Seat04</button>
        <button class="btn btn-danger" onclick="selectSeat('seat05',this)"  class="srow" id="rs5">Seat05</button>
        <button class="btn btn-danger" onclick="selectSeat('seat06',this)" class="srow" id="rs6">Seat06</button>
</div>
<div class="mt-4" id="row2">
    <button class="btn btn-danger" onclick="selectSeat('seat07',this)" class="srow" id="rs7">Seat07</button>
    <button class="btn btn-danger" onclick="selectSeat('seat08',this)" class="srow" id="rs8">Seat08</button>
    <button class="btn btn-danger" onclick="selectSeat('seat09',this)" class="srow" id="rs9">Seat09</button>
    <button class="btn btn-danger" onclick="selectSeat('seat10',this)" class="srow" id="rs10">Seat10</button>
    <button class="btn btn-danger" onclick="selectSeat('seat11',this)" class="srow" id="rs11">Seat11</button>
    <button class="btn btn-danger" onclick="selectSeat('seat12',this)" class="srow" id="rs12">Seat12</button>
</div>
<div class="mt-4" id="row3">
    <button class="btn btn-danger" onclick="selectSeat('seat13',this)" class="srow" id="rs13">Seat13</button>
    <button class="btn btn-danger" onclick="selectSeat('seat14',this)" class="srow" id="rs14">Seat14</button>
    <button class="btn btn-danger" onclick="selectSeat('seat15',this)" class="srow" id="rs15">Seat15</button>
    <button class="btn btn-danger" onclick="selectSeat('seat16',this)" class="srow" id="rs16">Seat16</button>
    <button class="btn btn-danger" onclick="selectSeat('seat17',this)" class="srow" id="rs17">Seat17</button>
    <button class="btn btn-danger" onclick="selectSeat('seat18',this)" class="srow" id="rs18">Seat18</button>
</div>
<div class="mt-4" id="row4">
    <button  class="btn btn-danger" onclick="selectSeat('seat19',this)" class="srow" id="rs19">Seat19</button>
    <button  class="btn btn-danger" onclick="selectSeat('seat20',this)" class="srow" id="rs20">Seat20</button>
    <button  class="btn btn-danger" onclick="selectSeat('seat21',this)" class="srow" id="rs21">Seat21</button>
    <button  class="btn btn-danger" onclick="selectSeat('seat22',this)" class="srow" id="rs22">Seat22</button>
    <button  class="btn btn-danger" onclick="selectSeat('seat23',this)" class="srow" id="rs23">Seat23</button>
    <button  class="btn btn-danger" onclick="selectSeat('seat24',this)" class="srow" id="rs24">Seat24</button>

</div>
</div>
<script>
   let seats = {};
        function selectSeat(seatNum, button) {
    if (seats[seatNum]) {
       
        const verifyDiv = document.createElement('div');
        verifyDiv.id = 'verifyDiv';

        const verifyName = document.createElement('input');
        verifyName.type = 'text';
        verifyName.placeholder = 'Enter Name';
        verifyDiv.appendChild(verifyName);

        const verifyPhone = document.createElement('input');
        verifyPhone.type = 'number';
        verifyPhone.placeholder = 'Enter Phone No';
        verifyDiv.appendChild(verifyPhone);

        const verifyButton = document.createElement('button');
        verifyButton.textContent = 'cancel';
        verifyButton.onclick = function () {
            const seatDetails = seats[seatNum];
            if (seatDetails.userName === verifyName.value && seatDetails.phoneNum === verifyPhone.value) {
                delete seats[seatNum];
                alert(`The booking for ${seatNum} has been cancelled.`);
                button.style.backgroundColor = 'red'; // Change back to not booked style
                button.textContent = seatNum; // Reset button text
                document.body.removeChild(verifyDiv);
            } else {
                alert('Verification failed! Name or Phone Number does not match.');
            }
        };
        verifyDiv.appendChild(verifyButton);

        document.body.appendChild(verifyDiv);
    } else {
        
        if (!document.getElementById('inputDiv')) {
            const inputDiv = document.createElement('div');
            inputDiv.id = 'inputDiv';

            const name = document.createElement('input');
            name.type = 'text';
            name.placeholder = 'Enter Name';
            inputDiv.appendChild(name);

            const phoneNum = document.createElement('input');
            phoneNum.type = 'number';
            phoneNum.placeholder = 'Enter Phone No';
            inputDiv.appendChild(phoneNum);

            const bookButton = document.createElement('button');
            bookButton.textContent = 'Book';
            bookButton.onclick = function () {
                if (name.value && phoneNum.value) {
                    seats[seatNum] = { userName: name.value, phoneNum: phoneNum.value };
                    alert(`${seatNum} is booked successfully for ${name.value}.`);
                    button.style.backgroundColor = 'green'; // Change to booked style
                    button.textContent = `${seatNum}`; // Update button text
                    document.body.removeChild(inputDiv);
                } else {
                    alert('Enter both name and phone number.');
                }
            };
            inputDiv.appendChild(bookButton);
            document.body.appendChild(inputDiv);
        }
    }
}
    
</script>
</body>
</html>

    




    
